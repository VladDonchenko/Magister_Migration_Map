{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Box,Container,Typography,Paper,Grid,CircularProgress,Alert}from'@mui/material';import MigrationMap from'../components/MigrationMap';import CityDetails from'../components/CityDetails';import migrationApi from'../utils/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=()=>{const[cities,setCities]=useState([]);const[migrations,setMigrations]=useState([]);const[selectedCity,setSelectedCity]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchData=async()=>{try{setLoading(true);setError(null);const response=await migrationApi.getMapData();console.log('API Response:',response);setCities(response.cities);setMigrations(response.migrations);}catch(error){console.error('Error fetching migration data:',error);setError(error instanceof Error?error.message:'Unknown error');setCities([]);setMigrations([]);}finally{setLoading(false);}};fetchData();},[]);const handleCityClick=city=>{setSelectedCity(city);};if(loading){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"400px\",children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(error){return/*#__PURE__*/_jsx(Box,{p:3,children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error})});}return/*#__PURE__*/_jsx(Container,{maxWidth:\"xl\",children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,children:/*#__PURE__*/_jsx(Paper,{elevation:3,sx:{p:2,height:'600px'},children:/*#__PURE__*/_jsx(MigrationMap,{cities:cities,migrations:migrations,onCityClick:handleCityClick})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Paper,{elevation:3,sx:{p:2,height:'600px'},children:selectedCity?/*#__PURE__*/_jsx(CityDetails,{city:selectedCity}):/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"textSecondary\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0433\\u043E\\u0440\\u043E\\u0434 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0435 \\u0434\\u043B\\u044F \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0430 \\u0434\\u0435\\u0442\\u0430\\u043B\\u0435\\u0439\"})})})})]})});};export default HomePage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}